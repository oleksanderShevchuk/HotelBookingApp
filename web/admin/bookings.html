<div class="container mx-auto py-8" x-data="adminBookingsPage()" x-init="init()">
    <h1 class="text-3xl font-bold mb-4">Bookings</h1>

    <table class="min-w-full bg-white shadow rounded">
        <thead>
            <tr class="border-b bg-gray-100">
                <th class="p-2 text-left">User</th>
                <th class="p-2 text-left">Hotel</th>
                <th class="p-2 text-left">Room</th>
                <th class="p-2 text-left">Check-In</th>
                <th class="p-2 text-left">Check-Out</th>
                <th class="p-2 text-left">Total</th>
                <th class="p-2 text-left">Actions</th>
            </tr>
        </thead>
        <tbody>
            <template x-for="b in bookings" :key="b.id">
                <tr class="border-b hover:bg-gray-50">
                    <td class="p-2" x-text="b.userEmail"></td>
                    <td class="p-2" x-text="b.hotelName"></td>
                    <td class="p-2" x-text="b.roomNumber"></td>
                    <td class="p-2" x-text="new Date(b.checkInDate).toLocaleDateString()"></td>
                    <td class="p-2" x-text="new Date(b.checkOutDate).toLocaleDateString()"></td>
                    <td class="p-2">$<span x-text="b.totalPrice"></span></td>
                    <td class="p-2">
                        <button @click="deleteBooking(b.id)" class="text-red-600">Delete</button>
                    </td>
                </tr>
            </template>
        </tbody>
    </table>
</div>

<script type="module">
  import { adminBookingsPage } from "../js/presentation/pages/adminBookingsPage.js";
  document.addEventListener("alpine:init", () => Alpine.data("adminBookingsPage", adminBookingsPage));
</script>
