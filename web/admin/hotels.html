<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin - Hotels</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-100" x-data="adminHotelsPage()" x-init="init()">

    <div class="container mx-auto py-8">
        <h1 class="text-3xl font-bold mb-4">Hotels</h1>
        <button @click="openAdd()" class="bg-blue-600 text-white px-4 py-2 rounded mb-4">+ Add Hotel</button>

        <table class="min-w-full bg-white shadow rounded">
            <thead>
                <tr class="border-b">
                    <th class="p-2 text-left">Name</th>
                    <th class="p-2 text-left">City</th>
                    <th class="p-2 text-left">Address</th>
                    <th class="p-2 text-left">Actions</th>
                </tr>
            </thead>
            <tbody>
                <template x-for="hotel in hotels" :key="hotel.id">
                    <tr class="border-b hover:bg-gray-50">
                        <td class="p-2" x-text="hotel.name"></td>
                        <td class="p-2" x-text="hotel.city"></td>
                        <td class="p-2" x-text="hotel.address"></td>
                        <td class="p-2 space-x-2">
                            <button @click="openEdit(hotel)" class="text-blue-600">Edit</button>
                            <button @click="deleteHotel(hotel.id)" class="text-red-600">Delete</button>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </div>

    <!-- Modal -->
    <div x-show="modal.open" class="fixed inset-0 bg-black/40 flex items-center justify-center">
        <div class="bg-white p-6 rounded shadow w-96" x-data="modal">
            <h2 class="text-xl font-bold mb-4" x-text="modal.title"></h2>
            <input x-model="modal.data.name" class="border p-2 w-full mb-2" placeholder="Name">
            <input x-model="modal.data.city" class="border p-2 w-full mb-2" placeholder="City">
            <input x-model="modal.data.address" class="border p-2 w-full mb-2" placeholder="Address">
            <textarea x-model="modal.data.description" class="border p-2 w-full mb-2" placeholder="Description"></textarea>
            <button @click="modal.save()" class="bg-blue-600 text-white px-4 py-2 rounded">Save</button>
            <button @click="modal.open=false" class="ml-2 text-gray-600">Cancel</button>
        </div>
    </div>

    <script type="module">
        import { adminHotelsPage } from "../js/presentation/pages/adminHotelsPage.js";
        import { modal } from "../js/presentation/components/modal.js";
        window.modal = modal;
        document.addEventListener("alpine:init", () => Alpine.data("adminHotelsPage", adminHotelsPage));
    </script>
</body>
</html>
